<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>PhD Seminar Feedback</title>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-firestore-compat.js"></script>
<style>
body {
  font-family: Arial, sans-serif;
  background: #f9f9f9;
  margin: 0;
  padding: 20px;
  display: flex;
  flex-direction: column;
  align-items: center;
}

header {
  display: flex;
  flex-direction: column;
  align-items: center;
  margin-bottom: 30px;
}

header img {
  height: 120px;
  margin-bottom: 10px;
}

header h1 {
  margin: 0;
  color: #333;
  font-size: 26px;
}

#loginForm {
  margin-bottom: 20px;
}

input, select {
  padding: 8px;
  margin: 5px;
  border-radius: 5px;
  border: 1px solid #ccc;
}

button {
  padding: 8px 14px;
  border: none;
  border-radius: 6px;
  background: #4CAF50;
  color: white;
  cursor: pointer;
}
button:hover { background: #45a049; }

.error { color: red; font-weight: bold; margin-top: 10px; }

.comment-box {
  width: 100%;
  max-width: 600px;
  padding: 12px;
  margin: 8px 0;
  border-radius: 8px;
  background: #fff;
  box-shadow: 0 1px 5px rgba(0,0,0,0.08);
  border-left: 4px solid #4CAF50;
}
</style>
</head>
<body>

<header>
  <img src="logo.jpg" alt="Department Logo">
  <h1>Feedback from the PhD Seminar</h1>
</header>

<div id="loginForm">
  <label for="presenterSelect"><strong>Select your name:</strong></label>
  <select id="presenterSelect">
    <option value="">-- choose presenter --</option>
    <option value="Marko Boskovic">Marko Boskovic</option>
    <option value="Pratibha Choudhari">Pratibha Choudhari</option>
    <option value="Samanta Ro≈æ√°nkov√°">Samanta Ro≈æ√°nkov√°</option>
    <option value="Yu-Wei Tu">Yu-Wei Tu</option>
    <option value="Bart Kieftenbelt">Bart Kieftenbelt</option>
    <option value="Ema Ba≈æ√≠kov√°">Ema Ba≈æ√≠kov√°</option>
    <option value="B√º≈üra Buse T√ºt√ºnc√º">B√º≈üra Buse T√ºt√ºnc√º</option>
    <option value="Botond Bolg√°r">Botond Bolg√°r</option>
    <option value="Najam Ul Sahar">Najam Ul Sahar</option>
    <option value="Jialu Li">Jialu Li</option>
    <option value="Pipatpon Raksapon">Pipatpon Raksapon</option>
    <option value="Ond≈ôej Danƒõk">Ond≈ôej Danƒõk</option>
    <option value="Filip Trajhan">Filip Trajhan</option>
    <option value="Alicia Le√≥n Rodr√≠guez">Alicia Le√≥n Rodr√≠guez</option>
    <option value="Pallavi Halkarni">Pallavi Halkarni</option>
    <option value="Andrea Vop√°lensk√°">Andrea Vop√°lensk√°</option>
    <option value="Ond≈ôej Hlad√≠k">Ond≈ôej Hlad√≠k</option>
    <option value="Donna Mart√≠nez Lop√©z">Donna Mart√≠nez Lop√©z</option>
    <option value="Shubham Bhatt">Shubham Bhatt</option>
    <option value="Jakub Kri≈°tof">Jakub Kri≈°tof</option>
    <option value="Nidhi Sinha">Nidhi Sinha</option>
    <option value="Anna-Marie Du≈°kov√°">Anna-Marie Du≈°kov√°</option>
    <option value="Lucie ƒåern√°">Lucie ƒåern√°</option>
    <option value="Jyotpreet Kaur">Jyotpreet Kaur</option>
    <option value="Sandip Baban Shinde">Sandip Baban Shinde</option>
    <option value="Dominik Kun√°k">Dominik Kun√°k</option>
  </select>
  <br>
  <input type="password" id="password" placeholder="Enter your password">
  <button id="loginBtn">Show Feedback</button>
  <div id="errorMsg" class="error"></div>
</div>

<div id="comments"></div>

<script>
// Firebase config
const firebaseConfig = {
  apiKey: "AIzaSyA3oSDoF5LC6pweqVinV2ykpJopQwFWulM",
  authDomain: "phd-seminar-voting.firebaseapp.com",
  projectId: "phd-seminar-voting",
  storageBucket: "phd-seminar-voting.firebasestorage.app",
  messagingSenderId: "1042633812969",
  appId: "1:1042633812969:web:7fa70745a53338ec5ab978",
  measurementId: "G-2JQDJWPH7L"
};
firebase.initializeApp(firebaseConfig);
const db = firebase.firestore();

// üîë hesla pro jednotliv√© prezentuj√≠c√≠ (nastav dle pot≈ôeby)
const passwords = {
  "Marko Boskovic": "marko2025",
  "Pratibha Choudhari": "pratibha2025",
  "Samanta Ro≈æ√°nkov√°": "samanta2025",
  "Yu-Wei Tu": "yu-wei2025",
  "Bart Kieftenbelt": "bart2025",
  "Ema Ba≈æ√≠kov√°": "ema2025",
  "B√º≈üra Buse T√ºt√ºnc√º": "busra2025",
  "Botond Bolg√°r": "botond2025",
  "Najam Ul Sahar": "najam2025",
  "Jialu Li": "jialu2025",
  "Pipatpon Raksapon": "pipatpon2025",
  "Ond≈ôej Danƒõk": "danek2025",
  "Filip Trajhan": "filip2025",
  "Alicia Le√≥n Rodr√≠guez": "alicia2025",
  "Pallavi Halkarni": "pallavi2025",
  "Andrea Vop√°lensk√°": "andrea2025",
  "Ond≈ôej Hlad√≠k": "ondrej2025",
  "Donna Mart√≠nez Lop√©z": "donna2025",
  "Shubham Bhatt": "shubham2025",
  "Jakub Kri≈°tof": "jakub2025",
  "Nidhi Sinha": "nidhi2025",
  "Anna-Marie Du≈°kov√°": "anna-marie2025",
  "Lucie ƒåern√°": "lucie123",
  "Jyotpreet Kaur": "jyotpreet2025",
  "Sandip Baban Shinde": "sandip2025",
  "Dominik Kun√°k": "dominik2025 "
};

document.getElementById("loginBtn").addEventListener("click", async () => {
  const presenter = document.getElementById("presenterSelect").value;
  const pass = document.getElementById("password").value;
  const errorMsg = document.getElementById("errorMsg");
  const commentsDiv = document.getElementById("comments");

  errorMsg.textContent = "";
  commentsDiv.innerHTML = "";

  if (!presenter) {
    errorMsg.textContent = "Please choose your name.";
    return;
  }

  if (passwords[presenter] !== pass) {
    errorMsg.textContent = "Incorrect password.";
    return;
  }

  // Heslo je spr√°vn√© ‚Üí naƒçteme koment√°≈ôe
  const snapshot = await db.collection('votes').get();

  let feedbacks = [];
  snapshot.forEach(doc => {
    const data = doc.data();
    data.presentations.forEach(p => {
      if (p.name === presenter && p.comment && p.comment.trim() !== "") {
        feedbacks.push(p.comment);
      }
    });
  });

  if (feedbacks.length === 0) {
    commentsDiv.innerHTML = "<p>No feedback submitted yet for this presenter.</p>";
  } else {
    feedbacks.forEach(c => {
      const box = document.createElement("div");
      box.className = "comment-box";
      box.textContent = c;
      commentsDiv.appendChild(box);
    });
  }
});
</script>
</body>
</html>


